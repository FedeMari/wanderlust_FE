{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Post } from 'src/app/model/post/post';\nexport let IMieiPostComponent = class IMieiPostComponent {\n  constructor(route, service, servicePost, serviceCategoria, router, http) {\n    this.route = route;\n    this.service = service;\n    this.servicePost = servicePost;\n    this.serviceCategoria = serviceCategoria;\n    this.router = router;\n    this.http = http;\n    this.newPost = new Post();\n    this.categorie = [];\n    this.activateAddPost = false;\n    this.activateUpdatePost = false;\n  }\n  ngOnInit() {\n    this.utente = JSON.parse(sessionStorage.getItem('utenteloggato'));\n    this.service.getArticoliUtenteById(this.utente.id_utente).subscribe({\n      next: data => {\n        console.log(data);\n        this.utente = data;\n      },\n      error: error => console.log(error)\n    });\n    this.serviceCategoria.getAllCategorie().subscribe({\n      next: data => {\n        console.log(data);\n        this.categorie = data;\n      },\n      error: error => console.log(error)\n    });\n  }\n  aggiuntaPost() {\n    this.activateAddPost = true;\n  }\n  aggiornamentoPost(postVecchio) {\n    this.currentPost = postVecchio;\n    this.activateUpdatePost = true;\n  }\n  eliminazionePost(id_post) {\n    if (id_post) {\n      this.servicePost.deletePostById(id_post).subscribe({\n        next: () => {\n          console.log('Post eliminato con successo.');\n          this.router.navigate(['/', 'mieiarticoli']).then(() => window.location.reload());\n        },\n        error: error => console.log(error)\n      });\n    }\n  }\n  onSubmitAdd() {\n    console.log(this.newPost);\n    this.savePost();\n  }\n  savePost() {\n    this.newPost.data = this.getCurrentDate();\n    this.servicePost.addPost(this.newPost, this.utente.id_utente).subscribe({\n      next: data => {\n        console.log(data);\n        this.newPost = new Post();\n        this.router.navigate(['/', 'mieiarticoli']).then(() => window.location.reload());\n      },\n      error: err => console.log(err)\n    });\n  }\n  getCurrentDate() {\n    return new Date();\n  }\n  onSubmitUpdate() {\n    console.log(this.currentPost);\n    this.aggiornaPost();\n  }\n  aggiornaPost() {\n    this.servicePost.updatePost(this.currentPost, this.utente.id_utente).subscribe({\n      next: data => {\n        console.log(data);\n        this.currentPost = data;\n        this.router.navigate(['/', 'mieiarticoli']).then(() => window.location.reload());\n      },\n      error: err => console.log(err)\n    });\n  }\n  closePopUp() {\n    this.activateUpdatePost = false;\n    this.activateAddPost = false;\n  }\n};\nIMieiPostComponent = __decorate([Component({\n  selector: 'app-i-miei-post',\n  templateUrl: './i-miei-post.component.html',\n  styleUrls: ['./i-miei-post.component.css']\n})], IMieiPostComponent);","map":{"version":3,"names":["Component","Post","IMieiPostComponent","constructor","route","service","servicePost","serviceCategoria","router","http","newPost","categorie","activateAddPost","activateUpdatePost","ngOnInit","utente","JSON","parse","sessionStorage","getItem","getArticoliUtenteById","id_utente","subscribe","next","data","console","log","error","getAllCategorie","aggiuntaPost","aggiornamentoPost","postVecchio","currentPost","eliminazionePost","id_post","deletePostById","navigate","then","window","location","reload","onSubmitAdd","savePost","getCurrentDate","addPost","err","Date","onSubmitUpdate","aggiornaPost","updatePost","closePopUp","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\gemel\\Desktop\\Federico\\Progetto Finale\\Wanderlust - FrontEnd\\Wanderlust_FrontEnd\\src\\app\\components\\i-miei-post\\i-miei-post.component.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Categoria } from 'src/app/model/categoria/categoria';\nimport { Post } from 'src/app/model/post/post';\nimport { Utente } from 'src/app/model/utente/utente';\nimport { CategoriaService } from 'src/app/services/categoria-Service/categoria.service';\nimport { ImmagineService } from 'src/app/services/immagine-Service/immagine.service';\nimport { PostService } from 'src/app/services/post-Service/post.service';\nimport { UtenteService } from 'src/app/services/utente-Service/utente.service';\n\n\n@Component({\n  selector: 'app-i-miei-post',\n  templateUrl: './i-miei-post.component.html',\n  styleUrls: ['./i-miei-post.component.css']\n})\nexport class IMieiPostComponent implements OnInit{\n  utente?: Utente;\n  currentPost?: Post;\n  newPost: Post = new Post();\n  categorie?: Categoria[] = [];\n  \n  constructor(private route: ActivatedRoute, private service: UtenteService, private servicePost: PostService, \n    private serviceCategoria: CategoriaService, private router: Router, private http: HttpClient) {}\n\n  ngOnInit(): void {\n    this.utente = JSON.parse(sessionStorage.getItem('utenteloggato')!)\n    this.service\n      .getArticoliUtenteById(this.utente!.id_utente!)\n      .subscribe(\n        {\n          next: data => {\n                  console.log(data);\n                  this.utente = data;\n                },\n          error: error => console.log(error)\n        }\n      );\n\n      this.serviceCategoria.getAllCategorie().subscribe({\n        next: data => {\n          console.log(data);\n          this.categorie = data;\n        },\n        error: error => console.log(error)\n      })    \n  }\n\n  activateAddPost: boolean = false;\n\n  aggiuntaPost(){    \n    this.activateAddPost = true;\n  }  \n\n  activateUpdatePost: boolean = false;\n\n  aggiornamentoPost(postVecchio: Post){\n    this.currentPost = postVecchio;\n    this.activateUpdatePost = true;\n  }\n\n  eliminazionePost(id_post?: number){\n    if (id_post) {\n      this.servicePost.deletePostById(id_post)\n      .subscribe({\n        next: () => {\n          console.log('Post eliminato con successo.');\n          this.router.navigate(['/','mieiarticoli']).then\n              (() => window.location.reload());\n          \n        },\n        error: error => console.log(error)\n      });\n    }\n  }\n\n  onSubmitAdd(){\n    console.log(this.newPost);\n    this.savePost();\n  }\n\n  selectedCategoria?: Categoria;\n\n  savePost(){\n    this.newPost.data = this.getCurrentDate();\n    this.servicePost.addPost(this.newPost, this.utente!.id_utente!)\n          .subscribe({\n            next: (data) => {\n              console.log(data);\n              this.newPost = new Post();\n              this.router.navigate(['/','mieiarticoli']).then\n              (() => window.location.reload());\n            },\n            error: (err) => console.log(err)\n          });\n  }\n\n  getCurrentDate(): Date {\n    return new Date();\n  }\n\n  onSubmitUpdate(){\n    console.log(this.currentPost);\n    this.aggiornaPost();\n  }\n\n  aggiornaPost(){\n    this.servicePost.updatePost(this.currentPost!, this.utente!.id_utente!)\n      .subscribe(\n        {\n          next: data => {\n                  console.log(data);\n                  this.currentPost = data;\n                  this.router.navigate(['/','mieiarticoli']).then\n                  (() => window.location.reload());\n                },\n          error: (err) => console.log(err)\n        }\n      );\n  }\n\n  closePopUp(){\n    this.activateUpdatePost = false;\n    this.activateAddPost = false;\n  }\n\n\n\n\n\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}